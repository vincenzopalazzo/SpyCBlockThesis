%CLASSE DOCUMENTO - LINGUA E DIMENSIONE FONT
\documentclass[11pt, a4paper, titlepage]{toptesi}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% INCLUSIONE PACCHETTI
\usepackage[utf8]{inputenc} %utf8
\usepackage[italian]{babel}
\usepackage[T1]{fontenc}
\usepackage{blindtext}
\usepackage{wrapfig}
\usepackage{booktabs}
\usepackage{lmodern}
\usepackage{varioref}
\usepackage{url}
\usepackage{array}
\usepackage{paralist}{\obeyspaces\global\let =\space}
\usepackage{verbatim}
%\usepackage{subfig}
\usepackage{amsmath,amsfonts,amssymb}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{listings}
\usepackage[pass]{geometry}
\usepackage[figuresright]{rotating}
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage[babel]{csquotes}
\usepackage{hyperref}
\usepackage[backend=bibtex]{biblatex}
\usepackage{xcolor}
\usepackage{enumitem}
\usepackage{titlesec}
\usepackage{booktabs}   % this package promotes good tabular style
\usepackage{caption}    % for customising caption style
\usepackage{siunitx}    % for decimal alignment
\usepackage{dirtytalk}
\usepackage{lipsum,caption}
%\usepackage{theorems}
%\usepackage{tabularx}
\usepackage{amsthm} % Mi dava problemi il package theorems, ho risolto con questo.
\usepackage[swapnames]{frontespizio}
\usepackage[]{graphicx}
\usepackage[normal]{subfigure}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\theoremstyle{definition}
\newtheorem{example}{Esempio}[section]

\definecolor{cosmogreen}{RGB}{61, 176, 23}
\definecolor{cosmoorange}{RGB}{255, 117, 24}
\definecolor{cosmoblue}{RGB}{25, 103, 190}
\definecolor{cosmored}{RGB}{255, 0, 57}
\definecolor{cosmoblack}{RGB}{55, 58, 60}

% CONFIGURAZIONE LINK E RIFERIMENTI
\hypersetup{%
    pdfpagemode={UseOutlines},
    bookmarksopen,
    pdfstartview={FitH},
    colorlinks,
    linkcolor={cosmoblack}, %COLORE DEI RIFERIMENTI AL TESTO
    citecolor={cosmoblue}, %COLORE DEI RIFERIMENTI ALLE CITAZIONI
    urlcolor={cosmoblue} %COLORI DEGLI URL
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% CONFIGURAZIONE LISTATI/CODICE


\lstset{frame=tb,
  keywords = {EXPECT_EQ, TEST, std::string, Bytes}
  language=C++,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=left,
  numberstyle=\tiny\color{cosmoblack},
  keywordstyle=\color{cosmoblue},
  commentstyle=\color{cosmoorange},
  stringstyle=\color{cosmogreen},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}


\lstset{frame=tb,
  keywords = {__init__}
  language=Python,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=left,
  numberstyle=\tiny\color{cosmoblack},
  keywordstyle=\color{cosmoblue},
  commentstyle=\color{cosmoorange},
  stringstyle=\color{cosmogreen},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}

% definizione BITCOIN script
\lstdefinelanguage{bitcoinscript}{
    alsodigit = {-},
    keywords = {OP_DUP,OP_HASH160,OP_EQUALVERIFY,OP_CHECKSIG, OP_CHECKMULTISIG,
                OP_0, OP_2, OP_3, OP_EQUAL, OP_RETURN, OP_IF, OP_CHECKLOCKTIMEVERIFY,
                OP_DROP, OP_CHECKSIGVERIFY, OP_ELSE, OP_ENDIF, OP_CHECKMULTISIG, OP_ELSE,
                OP_ENDIF, OP_SWAP, OP_ADD, OP_VERIFY, OP_PUSHDATA1},
    aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    columns=flexible,
    basicstyle={\small\ttfamily},
    numbers=left,
    numberstyle=\tiny\color{cosmoblack},
    keywordstyle=\color{cosmoblue},
    commentstyle=\color{cosmoorange},
    stringstyle=\color{cosmogreen},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=3
}

%Definizione MINISCRIPT
\lstdefinelanguage{miniscript}{
    keywords = {thresh,pk,older},
    aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    columns=flexible,
    basicstyle={\small\ttfamily},
    numbers=left,
    numberstyle=\tiny\color{cosmoblack},
    keywordstyle=\color{cosmoblue},
    commentstyle=\color{cosmoorange},
    stringstyle=\color{cosmogreen},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=3
}

\lstdefinelanguage{JSON}{
    aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    columns=flexible,
    basicstyle={\small\ttfamily},
    numbers=left,
    numberstyle=\tiny\color{cosmoblack},
    keywordstyle=\color{cosmoblue},
    commentstyle=\color{cosmoorange},
    stringstyle=\color{cosmogreen},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=3
}

\setitemize{noitemsep,topsep=0pt,parsep=0pt,partopsep=0pt}
\setenumerate{noitemsep,topsep=0pt,parsep=0pt,partopsep=0pt}
\setdescription{noitemsep,topsep=0pt,parsep=0pt,partopsep=0pt}
\setlist{noitemsep,topsep=0pt,parsep=0pt,partopsep=0pt}

%Spazio tra le sezioni con un pacchetto aggiuntivo
\titlespacing\section{0pt}{12pt plus 4pt minus 2pt}{0pt plus 2pt minus 2pt}
\titlespacing\subsection{0pt}{12pt plus 4pt minus 2pt}{0pt plus 2pt minus 2pt}
\titlespacing\subsubsection{0pt}{12pt plus 4pt minus 2pt}{0pt plus 2pt minus 2pt}

%Impostazion centraggio Tabella
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% FRENCHSPACING VA _SEMPRE_ ABILITATO PER DOCUMENTI IN ITALIANO
\frenchspacing

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%DEFINIZIONE SEZIONI IN NUMERAZIONE ROMANA
%ELENCO DEI LISTATI/CODICI
\makeatletter
\newcommand\listofcodes{%
 \iffrontmatter\else\frontmattertrue\fi
 \if@openright\cleardoublepage\else\clearpage\fi
 % change the meaning of \chapter in a group
 \begingroup\def\chapter##1{\@schapter}
 \phantomsection % for the hyperlink
 \lstlistoflistings
 \endgroup
}
\newcommand{\source}[1]{\caption*{Fonte: {#1}} }
\makeatother

\renewcommand*\lstlistingname{Codice}
\renewcommand*\lstlistlistingname{Lista dei codici}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% LISTA DEI CAPITOLI DA INCLUDERE - PERSONALIZZARE
\includeonly{%
chap_blockchain,%
chap_bitcoin,%
chap_bitcoincore,%
chap_problema,%
chap_riferimenti_storici,%
chap_tecnologie_utilizzate,%
chap_soluzione_proposta,%
chap_conclusioni,%
app_a,%
}

% FILE DI BIBLIOGRAFIA
\bibliography{bibliography}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% INIZIO DOCUMENTO
\begin{document}

\begin{frontespizio}
\Margini{2.5cm}{3cm}{2.5cm}{3.5cm}
\Preambolo{\renewcommand{\fronttitlefont}{\fontsize{24}{32}\bfseries}}% questo era proprio sbagliato (agisci su 32 se vuoi modificare lo spazio interlinea
\Preambolo{\renewcommand{\frontpretitlefont}{\fontsize{14}{14}\scshape}}
\Preambolo{\renewcommand{\frontinstitutionfont}{\fontsize{17}{17}\scshape}}
\Preambolo{\renewcommand{\frontdivisionfont}{\fontsize{12}{40}\normalfont}}% modifica il 40 finché trovi quello che desideri
\Preambolo{\renewcommand{\frontfixednamesfont}{\fontsize{12}{12}\normalfont}}
\Preambolo{\renewcommand{\frontnamesfont}{\fontsize{12}{12}\bfseries\vspace{5cm}}}
\Logo[3cm]{images/unibas-logo.png}
\Istituzione {Università degli studi della Basilicata}
\Divisione {Dipartimento di Matematica, Informatica ed Economia}
\vspace{2mm}
\Corso [Laurea Triennale]{Scienze e tecnologie informatiche}
%\Titoletto {Tesi in Basi di dati}
\Titoletto {\mbox {}}
\Titolo {Estrazione di Informazioni dalla \\Blockchain di Bitcoin​}
\Candidato {Vincenzo Palazzo}
\Relatore {Dott. Carlo Sartiani}
\Annoaccademico {2018-2019}
\end{frontespizio}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%INTERLINEA - DEFAULT 1 - NON ESAGERATE, NON SUPERATE MAI 1.3 ;)
%\interlinea{1.3}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\frontmatter

% CITAZIONE - PERSONALIZZARE
% VSPACE - PROPORZIONE USATA PER CENTRATURA VERTICALE DEL TESTO
% FLUSHRIGHT - ALLINEAMENTO ORIZZONTALE A DESTRA
\vspace*{\stretch{1}}
\begin{flushright}
\noindent
Non è tanto chi sono ma quello\\ che faccio che mi qualifica.

\textit{Bruce Wayne}
\end{flushright}
\vspace*{\stretch{6}}
\cleardoublepage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ABSTRACT - PERSONALIZZARE
\sommario
Piacere, sommario.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% INDICE GENERALE
\tableofcontents

\mainmatter

% INCLUSIONE FILE CAPITOLI - PERSONALIZZARE - TENERE COERENTE CON LISTA IN ALTO
\include{chap_blockchain}
\include{chap_bitcoin}
\include{chap_bitcoincore}
\include{chap_problema}
\include{chap_riferimenti_storici}
\include{chap_tecnologie_utilizzate}
\include{chap_soluzione_proposta}
\include{chap_conclusioni}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% RINGRAZIAMENTI - PERSONALIZZARE
\ringraziamenti
Grazie a Grazia, Graziella e la sorella.

\appendix
% INCLUSIONE APPENDICI - - PERSONALIZZARE - TENERE COERENTE CON LISTA IN ALTO
\include{app_a}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% INDICI - ELIMINARE GLI INDICI NON NECESSARI

% INDICE DELLE FIGURE
\listoffigures

% INDICE DELLE TABELLE
\listoftables

% INDICE DEI CODICI
\listofcodes

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% BIBLIOGRAFIA
\phantomsection
\addcontentsline{toc}{chapter}{\refname}
\nocite{*}
\printbibliography

\end{document}
